<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CinemaX Lite Responsive</title>
<style>
:root{
  --main:#e50914;
  --gold:#ffd700;
  --bg:#0b0b0f;
  --card:#14141b;
  --text:#fff;
  --muted:#aaa;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:sans-serif;}
body{background:var(--bg);color:var(--text);}

/* ----- HEADER ----- */
header{
  position:sticky;
  top:0;
  display:flex;
  align-items:center;
  padding:12px 20px;
  background:#111;
  z-index:50;
  box-shadow:0 4px 12px rgba(0,0,0,.7);
}
.logo{color:var(--main);font-weight:bold;font-size:22px;margin-right:15px;}
.toolbar{display:flex;align-items:center;gap:10px;flex:1;}
.toolbar input{flex:1;padding:8px 14px;border-radius:30px;border:none;background:rgba(255,255,255,0.08);color:#fff;outline:none;}
.toolbar button{padding:8px 14px;border-radius:20px;border:none;background:var(--gold);color:#000;cursor:pointer;transition:.3s;}
.toolbar button:hover{opacity:.85;}
.menu-btn{cursor:pointer;color:var(--main);font-size:22px;margin-right:10px;}

/* ----- SIDEBAR ----- */
.sidebar{position:fixed;top:0;right:-250px;width:250px;height:100%;background:#222;padding:20px;transition:.3s;overflow:auto;z-index:60;}
.sidebar.active{right:0;}
.sidebar h3{color:var(--gold);margin-bottom:15px;}
.sidebar a{display:block;color:#fff;text-decoration:none;margin:6px 0;padding:6px 10px;border-radius:10px;transition:.3s;}
.sidebar a:hover{background:var(--main);color:#000;}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);opacity:0;pointer-events:none;transition:.3s;z-index:55;}
.overlay.active{opacity:1;pointer-events:auto;}

/* ----- HERO SLIDER ----- */
.hero{position:relative;height:50vh;margin-bottom:20px;border-radius:12px;overflow:hidden;}
.slide{position:absolute;inset:0;opacity:0;transition:.5s;}
.slide.active{opacity:1;}
.slide img{width:100%;height:100%;object-fit:cover;filter:brightness(.75);}
.slide .cap{position:absolute;bottom:20px;right:20px;color:#fff;text-shadow:0 0 6px #000;}

/* ----- GRID & CARDS ----- */
section{padding:0 20px 20px;}
section h2{color:var(--gold);margin:10px 0;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px;}
.card{background:var(--card);border-radius:12px;overflow:hidden;cursor:pointer;transition:.3s;box-shadow:0 8px 20px rgba(0,0,0,.5);}
.card:hover{transform:translateY(-4px);box-shadow:0 0 20px var(--main);}
.card img{width:100%;height:220px;object-fit:cover;}
.card .info{padding:8px;text-align:center;}
.card .info small{color:var(--muted);}

/* ----- DETAIL VIEW ----- */
.detail{padding:20px;display:none;}
.detail button{padding:6px 12px;margin-bottom:10px;border:none;border-radius:10px;background:var(--main);color:#fff;cursor:pointer;}
ul{list-style:none;margin-top:10px;}
ul li a{color:#fff;text-decoration:none;}
ul li a:hover{color:var(--main);}

/* ----- MOBILE SPECIFIC ----- */
@media screen and (max-width:768px){
  header{flex-direction:column;align-items:flex-start;padding:10px;}
  .toolbar{flex-direction:column;width:100%;gap:8px;}
  .toolbar input{width:100%;}
  .grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px;}
  .card img{height:180px;}
  .hero{height:35vh;}
  .sidebar{width:100%;right:-100%;}
  .sidebar.active{right:0;}
  .slide .cap{bottom:10px;right:10px;font-size:14px;}
}

/* ----- MOBILE SPECIAL: TAB VIEW ----- */
@media screen and (max-width:480px){
  .grid{display:flex;overflow-x:auto;gap:10px;padding-bottom:10px;}
  .card{min-width:140px;flex:0 0 auto;}
  .card img{height:160px;}
  header{padding:8px;}
}
</style>
</head>
<body>
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<header>
  <span class="menu-btn" onclick="toggleSidebar()">â˜°</span>
  <div class="logo">CinemaX Lite</div>
  <div class="toolbar">
    <input type="text" id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙÙŠÙ„Ù… Ø£Ùˆ Ù…Ø³Ù„Ø³Ù„..." oninput="applySearch()">
    <button onclick="alert('ÙˆØ¶Ø¹ Ø§Ù„Ø³ÙŠÙ†Ù…Ø§ Ù…ÙØ¹Ù„')">ğŸ¬ ÙˆØ¶Ø¹ Ø§Ù„Ø³ÙŠÙ†Ù…Ø§</button>
  </div>
</header>

<aside class="sidebar" id="sidebar">
  <h3>Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h3>
  <a href="#" onclick="goHome()">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
  <a href="#">ğŸ”¥ Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©</a>
  <a href="#">ğŸ­ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø²Ø§Ø¬</a>
  <a href="#">â¤ï¸ Ø§Ù„Ù…ÙØ¶Ù„Ø©</a>
</aside>

<main id="home">
  <div class="hero" id="hero"></div>
  <section class="section">
    <h2>Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©</h2>
    <div class="grid" id="grid"></div>
  </section>
</main>

<section class="detail" id="detail">
  <button onclick="goHome()">â¬… Ø±Ø¬ÙˆØ¹</button>
  <h2 id="detail-title"></h2>
  <p id="detail-desc"></p>
  <ul id="episodes"></ul>
</section>

<script>
const overlay=document.getElementById('overlay');
const sidebar=document.getElementById('sidebar');
const hero=document.getElementById('hero');
const grid=document.getElementById('grid');
const detail=document.getElementById('detail');
const detailTitle=document.getElementById('detail-title');
const detailDesc=document.getElementById('detail-desc');
const episodesList=document.getElementById('episodes');
let slides=[],currentSlide=0;
let movies=[];

// ØªØ­Ù…ÙŠÙ„ JSON
fetch('movies.json')
.then(res=>res.json())
.then(data=>{
  movies=data;
  createHero();
  renderGrid();
})
.catch(err=>console.error(err));

function createHero(){
  hero.innerHTML='';
  slides=[];
  movies.slice(0,5).forEach((m,i)=>{
    const s=document.createElement('div');
    s.className='slide';
    if(i===0) s.classList.add('active');
    s.innerHTML=`<img src="${m.img}"><div class="cap"><h2>${m.title}</h2><small>${m.year} â€¢ ${m.genre}</small></div>`;
    hero.appendChild(s);
    slides.push(s);
  });
  if(slides.length>1){
    setInterval(()=>{
      slides[currentSlide].classList.remove('active');
      currentSlide=(currentSlide+1)%slides.length;
      slides[currentSlide].classList.add('active');
    },5000);
  }
}

function renderGrid(){
  grid.innerHTML='';
  movies.forEach(m=>{
    const c=document.createElement('div');
    c.className='card';
    c.innerHTML=`<img src="${m.img}"><div class="info"><b>${m.title}</b><br><small>${m.genre} â€¢ ${m.year}</small></div>`;
    c.onclick=()=>openDetail(m);
    grid.appendChild(c);
  });
}

function openDetail(movie){
  detailTitle.textContent=movie.title;
  detailDesc.textContent=movie.description;
  episodesList.innerHTML='';
  movie.episodes.forEach(ep=>{
    const li=document.createElement('li');
    li.innerHTML=`<a href="${ep.video}" target="_blank">${ep.title}</a>`;
    episodesList.appendChild(li);
  });
  detail.style.display='block';
  home.style.display='none';
}

function goHome(){
  detail.style.display='none';
  home.style.display='block';
}

function toggleSidebar(){
  sidebar.classList.toggle('active');
  overlay.classList.toggle('active');
}

function applySearch(){
  const q=document.getElementById('search').value.toLowerCase();
  grid.innerHTML='';
  movies.filter(m=>m.title.toLowerCase().includes(q)).forEach(m=>{
    const c=document.createElement('div');
    c.className='card';
    c.innerHTML=`<img src="${m.img}"><div class="info"><b>${m.title}</b><br><small>${m.genre} â€¢ ${m.year}</small></div>`;
    c.onclick=()=>openDetail(m);
    grid.appendChild(c);
  });
}
</script>
</body>
</html>
